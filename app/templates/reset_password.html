{% extends "base.html" %}

{% block title %}–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å ‚Äî XK Media{% endblock %}

{% block head %}
<style>
    .auth-container {
        max-width: 420px;
        margin: 3rem auto;
    }

    .auth-card {
        padding: 2.5rem;
    }

    .auth-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .auth-header h1 {
        font-size: 1.75rem;
        margin-bottom: 0.5rem;
    }

    .auth-header p {
        color: var(--text-muted);
    }

    .auth-form {
        margin-bottom: 1.5rem;
    }

    .auth-footer {
        text-align: center;
        padding-top: 1.5rem;
        border-top: 1px solid var(--border);
        color: var(--text-muted);
    }
</style>
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="card auth-card">
        <div class="auth-header">
            <h1>üîë –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</h1>
            <p>–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</p>
        </div>

        {% if error %}
        <div class="alert alert-error">{{ error }}</div>
        {% endif %}

        {% if token %}
        <form class="auth-form" method="POST" action="/reset-password">
            <input type="hidden" name="token" value="{{ token }}">
            
            <div class="form-group">
                <label class="form-label" for="password">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                <input type="password" id="password" name="password" class="form-input" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" minlength="6" required>
            </div>

            <div class="form-group">
                <label class="form-label" for="password_confirm">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                <input type="password" id="password_confirm" name="password_confirm" class="form-input" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
            </div>

            <button type="submit" class="btn btn-primary" style="width: 100%;">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
        </form>
        {% else %}
        <div class="alert alert-error">
            <p>–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –∏–ª–∏ –∏—Å—Ç–µ–∫–ª–∞.</p>
            <p style="margin-top: 0.5rem;"><a href="/forgot-password">–ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—É—é —Å—Å—ã–ª–∫—É</a></p>
        </div>
        {% endif %}

        <div class="auth-footer">
            <p>–í—Å–ø–æ–º–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª—å? <a href="/login">–í–æ–π—Ç–∏</a></p>
        </div>
    </div>
</div>
{% endblock %}
