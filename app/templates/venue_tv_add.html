{% extends "base.html" %}

{% block title %}–î–æ–±–∞–≤–∏—Ç—å –¢–í ‚Äî XK Media{% endblock %}

{% block logo %}
<a href="/venue" class="logo">
    <span class="logo-icon">üì∫</span>
    XK Media
</a>
{% endblock %}

{% block nav %}
<a href="/venue">–û–±–∑–æ—Ä</a>
<a href="/venue/tvs">–ú–æ–∏ –¢–í</a>
<a href="/venue/earnings">–î–æ—Ö–æ–¥—ã</a>
<a href="/venue/profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
<a href="/logout" class="btn btn-secondary btn-sm">–í—ã–π—Ç–∏</a>
{% endblock %}

{% block content %}
<div class="dashboard-header">
    <div>
        <a href="/venue/tvs" class="back-link">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
        <h1>üì∫ –î–æ–±–∞–≤–∏—Ç—å –¢–í-—ç–∫—Ä–∞–Ω</h1>
        <p class="subtitle">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏ –∏ –¢–í</p>
    </div>
</div>

<form method="POST" action="/venue/tv/add" class="tv-form">
    <!-- Basic Info -->
    <div class="card">
        <div class="card-header">
            <h3>üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
        </div>
        <div class="card-content">
            <div class="form-row">
                <div class="form-group">
                    <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ –¢–í-—ç–∫—Ä–∞–Ω–∞ *</label>
                    <input type="text" id="name" name="name" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢–í —É –≤—Ö–æ–¥–∞">
                </div>
                <div class="form-group">
                    <label for="code">–ö–æ–¥ –¢–í</label>
                    <input type="text" id="code" name="code" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏">
                    <span class="form-hint">–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–ª—è QR-—Å—Å—ã–ª–∫–∏</span>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="venue_name">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è *</label>
                    <input type="text" id="venue_name" name="venue_name" required placeholder='–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–æ—Ñ–µ–π–Ω—è "–†–∞—Å—Å–≤–µ—Ç"'>
                </div>
                <div class="form-group">
                    <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select id="category" name="category">
                        {% for key, value in categories.items() %}
                        <option value="{{ key }}">{{ value }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è</label>
                <textarea id="description" name="description" rows="3" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö, –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ..."></textarea>
            </div>
        </div>
    </div>

    <!-- Location -->
    <div class="card">
        <div class="card-header">
            <h3>üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h3>
        </div>
        <div class="card-content">
            <div class="form-row">
                <div class="form-group">
                    <label for="city">–ì–æ—Ä–æ–¥ *</label>
                    <input type="text" id="city" name="city" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–æ—Å–∫–≤–∞">
                </div>
                <div class="form-group">
                    <label for="address">–ê–¥—Ä–µ—Å *</label>
                    <input type="text" id="address" name="address" required placeholder="—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1">
                </div>
            </div>
            
            <div class="form-group">
                <label for="working_hours">–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã</label>
                <input type="text" id="working_hours" name="working_hours" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 09:00-22:00 –∏–ª–∏ –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ">
            </div>
        </div>
    </div>

    <!-- Audience -->
    <div class="card">
        <div class="card-header">
            <h3>üë• –ê—É–¥–∏—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
        </div>
        <div class="card-content">
            <div class="form-row">
                <div class="form-group">
                    <label for="target_audience">–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</label>
                    <select id="target_audience" name="target_audience">
                        {% for key, value in audiences.items() %}
                        <option value="{{ key }}">{{ value }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label for="clients_per_day">–ö–ª–∏–µ–Ω—Ç–æ–≤ –≤ –¥–µ–Ω—å (—Å—Ä–µ–¥–Ω–µ–µ)</label>
                    <input type="number" id="clients_per_day" name="clients_per_day" min="0" placeholder="0">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="avg_check">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫, ‚ÇΩ</label>
                    <input type="number" id="avg_check" name="avg_check" min="0" step="0.01" placeholder="0">
                </div>
                <div class="form-group">
                    <label for="photo_url">–§–æ—Ç–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è (URL)</label>
                    <input type="url" id="photo_url" name="photo_url" placeholder="https://...">
                </div>
            </div>
        </div>
    </div>

    <!-- Equipment & Tariff -->
    <div class="card">
        <div class="card-header">
            <h3>üíé –¢–∏–ø –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –∏ —Ç–∞—Ä–∏—Ñ</h3>
        </div>
        <div class="card-content">
            <div class="equipment-options">
                <label class="equipment-option">
                    <input type="radio" name="equipment_type" value="aggregator" checked>
                    <div class="equipment-card">
                        <div class="equipment-icon">üñ•Ô∏è</div>
                        <div class="equipment-title">–¢–í –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞</div>
                        <div class="equipment-percent">60%</div>
                        <div class="equipment-desc">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ XK Media</div>
                    </div>
                </label>
                <label class="equipment-option">
                    <input type="radio" name="equipment_type" value="venue">
                    <div class="equipment-card">
                        <div class="equipment-icon">üì∫</div>
                        <div class="equipment-title">–°–≤–æ—ë –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</div>
                        <div class="equipment-percent">70%</div>
                        <div class="equipment-desc">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∞—à –¢–í-—ç–∫—Ä–∞–Ω</div>
                    </div>
                </label>
            </div>
        </div>
    </div>

    <!-- Legal Info -->
    <div class="card">
        <div class="card-header">
            <h3>üìÑ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</h3>
            <span class="badge badge-info">–î–ª—è –≤—ã–ø–ª–∞—Ç</span>
        </div>
        <div class="card-content">
            <div class="form-row">
                <div class="form-group">
                    <label for="legal_name">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" id="legal_name" name="legal_name" placeholder='–û–û–û "–ù–∞–∑–≤–∞–Ω–∏–µ"' value="{{ user.legal_name or '' }}">
                </div>
                <div class="form-group">
                    <label for="inn">–ò–ù–ù</label>
                    <input type="text" id="inn" name="inn" maxlength="12" placeholder="1234567890" value="{{ user.inn or '' }}">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="kpp">–ö–ü–ü</label>
                    <input type="text" id="kpp" name="kpp" maxlength="9" placeholder="123456789">
                </div>
                <div class="form-group">
                    <label for="bank_name">–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞</label>
                    <input type="text" id="bank_name" name="bank_name" placeholder="–°–±–µ—Ä–±–∞–Ω–∫">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="bank_bik">–ë–ò–ö</label>
                    <input type="text" id="bank_bik" name="bank_bik" maxlength="9" placeholder="044525225">
                </div>
                <div class="form-group">
                    <label for="bank_account">–†–∞—Å—á—ë—Ç–Ω—ã–π —Å—á—ë—Ç</label>
                    <input type="text" id="bank_account" name="bank_account" maxlength="20" placeholder="40702810000000000000">
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Info -->
    <div class="card">
        <div class="card-header">
            <h3>üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
        </div>
        <div class="card-content">
            <div class="form-row">
                <div class="form-group">
                    <label for="contact_person">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ</label>
                    <input type="text" id="contact_person" name="contact_person" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" value="{{ (user.first_name or '') + ' ' + (user.last_name or '') }}">
                </div>
                <div class="form-group">
                    <label for="contact_phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" id="contact_phone" name="contact_phone" placeholder="+7 (999) 123-45-67" value="{{ user.phone or '' }}">
                </div>
            </div>
            
            <div class="form-group">
                <label for="contact_email">Email</label>
                <input type="email" id="contact_email" name="contact_email" placeholder="contact@example.com" value="{{ user.email }}">
            </div>
        </div>
    </div>

    <div class="form-actions">
        <a href="/venue/tvs" class="btn btn-outline">–û—Ç–º–µ–Ω–∞</a>
        <button type="submit" class="btn btn-primary btn-lg">üì∫ –î–æ–±–∞–≤–∏—Ç—å –¢–í</button>
    </div>
</form>

<style>
.tv-form {
    max-width: 800px;
}

.tv-form .card {
    margin-bottom: 1.5rem;
}

.form-row {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

@media (max-width: 768px) {
    .form-row {
        grid-template-columns: 1fr;
    }
}

.equipment-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

@media (max-width: 768px) {
    .equipment-options {
        grid-template-columns: 1fr;
    }
}

.equipment-option {
    cursor: pointer;
}

.equipment-option input {
    display: none;
}

.equipment-card {
    padding: 1.5rem;
    border: 2px solid var(--border);
    border-radius: 12px;
    text-align: center;
    transition: all 0.2s;
}

.equipment-option input:checked + .equipment-card {
    border-color: var(--accent);
    background: rgba(233, 69, 96, 0.1);
}

.equipment-icon {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
}

.equipment-title {
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.equipment-percent {
    font-size: 2rem;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: 0.5rem;
}

.equipment-desc {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
    padding-top: 1rem;
}

.back-link {
    display: inline-block;
    color: var(--text-secondary);
    text-decoration: none;
    margin-bottom: 0.5rem;
}

.back-link:hover {
    color: var(--accent);
}
</style>
{% endblock %}
